CREATE TABLE Clientes (
    id SERIAL PRIMARY KEY,
    nome VARCHAR(50),
    genero CHAR,
    cpf VARCHAR(11),
    estado VARCHAR(2),
    cidade VARCHAR(50),
    rua VARCHAR(100),
    cep VARCHAR(9),
    telefone VARCHAR(11), 
    email VARCHAR(50)
);

CREATE TABLE Animal (
    id SERIAL PRIMARY KEY,
    especie VARCHAR(50),
    nome VARCHAR(50),
    idade INTEGER,
    fk_Clientes_id INTEGER
);

CREATE TABLE Veterinarios (
    id SERIAL PRIMARY KEY,
    nome VARCHAR(50),
    cpf VARCHAR(11),
    estado VARCHAR(2),
    cidade VARCHAR(50),
    rua VARCHAR(100),
    cep VARCHAR(9),
    email VARCHAR(50),
    telefone VARCHAR(11),
    especialidade VARCHAR(50)
);

CREATE TABLE Petshop (
    id SERIAL PRIMARY KEY,
    cnpj VARCHAR(14),
    estado VARCHAR(2),
    cidade VARCHAR(50),
    rua VARCHAR(100)
);

CREATE TABLE Consulta (
    id SERIAL PRIMARY KEY,
    data_hora TIMESTAMP,
    valor FLOAT,
    diagnostico TEXT,
    tratamento TEXT,
    fk_Veterinarios_id INTEGER,
    fk_Animal_id INTEGER,
    fk_Petshop_id INTEGER
);

CREATE TABLE Tipo_Exame (
    id SERIAL PRIMARY KEY,
    nome VARCHAR(50),
    valor FLOAT
);

CREATE TABLE Produtos (
    id SERIAL PRIMARY KEY,
    nome VARCHAR(50),
    descricao TEXT,
    categoria TEXT,
    valor FLOAT
);

CREATE TABLE petshop_tipoexame (
    fk_Petshop_id INTEGER,
    fk_Tipo_Exame_id INTEGER
);

CREATE TABLE petshop_veterinario (
    fk_Petshop_id INTEGER,
    fk_Veterinarios_id INTEGER
);

CREATE TABLE produtos_petshop (
    fk_Produtos_id INTEGER,
    fk_Petshop_id INTEGER
);

CREATE TABLE Compras (
    fk_Produtos_id INTEGER,
    fk_Clientes_id INTEGER,
    id SERIAL PRIMARY KEY,
    valor FLOAT
);

CREATE TABLE Exame (
    fk_Tipo_Exame_id INTEGER,
    fk_Animal_id INTEGER,
    id SERIAL PRIMARY KEY,
    nome VARCHAR(50),
    resultado TEXT,
    data_hora TIMESTAMP,
    valor FLOAT
);
 
ALTER TABLE Animal ADD CONSTRAINT FK_Animal_2
    FOREIGN KEY (fk_Clientes_id)
    REFERENCES Clientes (id);
 
ALTER TABLE Consulta ADD CONSTRAINT FK_Consulta_2
    FOREIGN KEY (fk_Veterinarios_id)
    REFERENCES Veterinarios (id);
 
ALTER TABLE Consulta ADD CONSTRAINT FK_Consulta_3
    FOREIGN KEY (fk_Animal_id)
    REFERENCES Animal (id);
 
ALTER TABLE Consulta ADD CONSTRAINT FK_Consulta_4
    FOREIGN KEY (fk_Petshop_id)
    REFERENCES Petshop (id);
 
ALTER TABLE petshop_tipoexame ADD CONSTRAINT FK_petshop_tipoexame_1
    FOREIGN KEY (fk_Petshop_id)
    REFERENCES Petshop (id);
 
ALTER TABLE petshop_tipoexame ADD CONSTRAINT FK_petshop_tipoexame_2
    FOREIGN KEY (fk_Tipo_Exame_id)
    REFERENCES Tipo_Exame (id);
 
ALTER TABLE petshop_veterinario ADD CONSTRAINT FK_petshop_veterinario_1
    FOREIGN KEY (fk_Petshop_id)
    REFERENCES Petshop (id);
 
ALTER TABLE petshop_veterinario ADD CONSTRAINT FK_petshop_veterinario_2
    FOREIGN KEY (fk_Veterinarios_id)
    REFERENCES Veterinarios (id);
 
ALTER TABLE produtos_petshop ADD CONSTRAINT FK_produtos_petshop_1
    FOREIGN KEY (fk_Produtos_id)
    REFERENCES Produtos (id);
 
ALTER TABLE produtos_petshop ADD CONSTRAINT FK_produtos_petshop_2
    FOREIGN KEY (fk_Petshop_id)
    REFERENCES Petshop (id);
 
ALTER TABLE Compras ADD CONSTRAINT FK_Compras_2
    FOREIGN KEY (fk_Produtos_id)
    REFERENCES Produtos (id);
 
ALTER TABLE Compras ADD CONSTRAINT FK_Compras_3
    FOREIGN KEY (fk_Clientes_id)
    REFERENCES Clientes (id);
 
ALTER TABLE Exame ADD CONSTRAINT FK_Exame_2
    FOREIGN KEY (fk_Tipo_Exame_id)
    REFERENCES Tipo_Exame (id);
 
ALTER TABLE Exame ADD CONSTRAINT FK_Exame_3
    FOREIGN KEY (fk_Animal_id)
    REFERENCES Animal (id);